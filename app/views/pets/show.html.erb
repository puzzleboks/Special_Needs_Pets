<div class="pets show">
  <h2><%= @pet.name %></h2>

  <%= link_to("Edit Pet", edit_pet_path(@pet), :class => 'action edit') %>

  <!-- mms: tables are usually only used to manage tabluar (row and column) data. -->
  <table class="detail" summary="Pet detail">
    <tr>
      <td><%= image_tag(@pet.pict_url, width: '200', height: '200') %></td>
      <td>
        <table>
          <tr>
            <td>Breed: <%= @pet.breed %></td>
          </tr>
          <tr>
            <td>Gender: <%= @pet.sex %></td>
          </tr>
          <tr>
            <td>Weight: <%= @pet.weight %> lbs.</td>
          </tr>
          <tr>
            <td>Age: <%= @pet.age %> years</td>
          </tr>
          <tr>
            <td>Notes:</td>
          </tr>
          <tr>
            <td><%= @pet.notes %></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <h2> Special Needs</h2>
  <%= link_to("Create New Need", new_pet_need_path(@pet)) %>
  <ul>
    <% @pet.needs.each do |need| %>
    <!-- mms: thought experiment: should all the treaments be nested in the Need's li? -->
    <li><h3><%= need.kind %></h3></li>
    <%= link_to("Edit Need", edit_pet_need_path(@pet, need)) %>
    <li>
      <h4>Treatments</h4>
      <%= link_to("Create New Treatment", new_need_treatment_path(need)) %>
      <ul>
        <% need.treatments.each do |treatment| %>
        <li>
          <%= treatment.medicine %>
        </li>
        <%= link_to("Edit Treatments", edit_need_treatment_path(need, treatment)) %>
        <% end %>
      </ul>
    </li>
    <% end %>
  </ul>
</div>
